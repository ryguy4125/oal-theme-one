<form id="add-to-cart-form">
    <select name="id" id="productSelect">
        {% for variant in product.variants %}
            {% if variant.available %}
                <option value="{{ variant.id }}">
                    {{ variant.title }} - {{ variant.price | money_with_currency}}
                </option>
            {% else %}
                <option disabled>
                    {{ variant.title }} -- sold out
                </option>
            {% endif %}
        {% endfor %}
        <select>
            {{ current_variant.price | money }}
            <label for="Quantity">quantity</label>
            <input type="number" id="Quantity" name="quantity" value="1" min="1">
            <button @click="addToCart" type="submit" name="add" id="AddToCart">Add to Cart</button>
            <p>${ name }</p>
            <p>${ message }</p>
        </select>
    </select>
</form>

<script>
    if (document.querySelector('#add-to-cart-form')) {

        /* Vue instance */
        const { createApp } = Vue;

        const App = {
            delimiters: ['${','}'],
            data() {
                return {
                name: "Ryan",
                message: "Test Message"
                }
            },
            created() {
                axios.get("/products/{{ product.handle }}.js")
                    .then(results => {
                        console.log(results)
                    })
                    .catch(error => {
                        console.log(error)
                    })
            },
            methods:{
                addToCart(event){
                    event.preventDefault();
                    console.log(this.name)
                }
            }
        };

        const vm = createApp(App).mount("#add-to-cart-form");

        /* Alternative Instance of Vue App */

        // const productForm = Vue.createApp({
        //     delimiters: ['${','}'],
        //     data() {
        //         return {
        //             name: 'test'
        //         }
        //     }
        // }).mount('#add-to-cart-form')
    }
</script>